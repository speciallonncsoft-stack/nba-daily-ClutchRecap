<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>NBA Dashboard (Popup Logic Applied)</title>
    <style>
        /* UI ë””ìì¸: ê°€ë…ì„±ì„ ìœ„í•œ ì¹´ë“œ ë ˆì´ì•„ì›ƒ */
        body { font-family: sans-serif; background-color: #f4f4f4; padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; }
        .card { 
            background: white; padding: 20px; border-radius: 8px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); cursor: pointer; 
            transition: transform 0.2s;
        }
        .card:hover { transform: translateY(-3px); box-shadow: 0 5px 10px rgba(0,0,0,0.15); }
        .header { display: flex; justify-content: space-between; color: #666; font-size: 0.9em; margin-bottom: 10px; }
        .scores { display: flex; justify-content: space-between; align-items: center; font-weight: bold; font-size: 1.2em; }
        .team { text-align: center; }
        .vs { color: #999; font-size: 0.8em; }
        .note { margin-top: 10px; font-size: 0.8em; color: #1d428a; text-align: center; }
    </style>
</head>
<body>

    <h2>ğŸ€ NBA Daily Results</h2>
    <div id="game-container" class="grid"></div>

    <script>
        // [Logic 1] Data Structure (Confirmed)
        // ë°±ì—”ë“œ ì—†ì´ í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ JSON ë”ë¯¸ ë°ì´í„°
        const games = [
            { id: "0022500659", home: "ATL", away: "IND", h_score: 132, a_score: 116, status: "Final" },
            { id: "0022500660", home: "BOS", away: "POR", h_score: 102, a_score: 94, status: "Final" },
            { id: "0022500661", home: "LAL", away: "CHI", h_score: 129, a_score: 118, status: "Final" }
        ];

        // [Logic 2] URL Generation Rule (Inference based on constraints)
        // ìš”êµ¬ì‚¬í•­: https://www.nba.com/game/{away}-{home}-{id}/box-score
        // ìƒì„¸: íŒ€ ì•½ì–´ëŠ” ì†Œë¬¸ìë¡œ ë³€í™˜í•´ì•¼ ì‹¤ì œ URLê³¼ ë§¤í•‘ë¨.
        function generateUrl(game) {
            const away = game.away.toLowerCase();
            const home = game.home.toLowerCase();
            return `https://www.nba.com/game/${away}-${home}-${game.id}/box-score`;
        }

        // [Logic 3] Popup Implementation (Solution to Iframe blocking)
        // Iframe ì°¨ë‹¨ì„ ìš°íšŒí•˜ê¸° ìœ„í•´ window.open ì‚¬ìš©
        function openPopup(url) {
            const width = 1280;
            const height = 900;
            // ë“€ì–¼ ëª¨ë‹ˆí„° ë“±ì„ ê³ ë ¤í•œ ì¤‘ì•™ ì •ë ¬ ê³„ì‚°
            const left = (window.screen.width - width) / 2;
            const top = (window.screen.height - height) / 2;
            
            window.open(url, 'nbaBoxScore', `width=${width},height=${height},top=${top},left=${left},scrollbars=yes,resizable=yes`);
        }

        // [Logic 4] Rendering
        const container = document.getElementById('game-container');
        
        games.forEach(game => {
            const card = document.createElement('div');
            card.className = 'card';
            
            // í´ë¦­ ì´ë²¤íŠ¸ ë°”ì¸ë”©
            card.onclick = () => openPopup(generateUrl(game));

            card.innerHTML = `
                <div class="header">
                    <span>${game.status}</span>
                    <span>ID: ${game.id}</span>
                </div>
                <div class="scores">
                    <div class="team">
                        <div>${game.away}</div>
                        <div style="color:${game.a_score > game.h_score ? '#1d428a' : '#333'}">${game.a_score}</div>
                    </div>
                    <span class="vs">@</span>
                    <div class="team">
                        <div>${game.home}</div>
                        <div style="color:${game.h_score > game.a_score ? '#1d428a' : '#333'}">${game.h_score}</div>
                    </div>
                </div>
                <div class="note">Click for Details (Popup) â†—</div>
            `;
            container.appendChild(card);
        });
    </script>
</body>
</html>
